<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
  integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<div class="container mt-4 mb-4">
  <div class="row justify-content-center">

    <div class="col-md-6">
      <h3 class="text-center" *ngIf="createMode">Ingreso de nueva orden</h3>
      <h3 class="text-center" *ngIf="editMode">Editar orden</h3>
      <h5 class="text-success text-center">{{message}}</h5>

      <form [formGroup]="orden" (ngSubmit)="createOrden()" *ngIf="createMode">

        <div class="form-group">
            <label for="exampleInputEmail1">Fecha:</label>
            <input type="date" maxlength="25" required class="form-control" id="nombre" name="fecha"
              aria-describedby="name" placeholder="Ingrese fecha" formControlName="fecha">
  
            <div *ngIf="f['fecha']?.touched && f['fecha']?.invalid" class="alert alert-danger">
              <div *ngIf="f['fecha'].errors?.['required']">Fecha es requerida</div>
            </div>
            <small class="text-success" *ngIf="f['fecha'].valid">Correct</small>
  
          </div>
  
          <div class="form-group">
            <label for="exampleInputEmail1">Código:</label>
            <input type="text" maxlength="5" required class="form-control" id="codigo" name="codigo"
              aria-describedby="name" placeholder="Ingrese código" formControlName="codigo">
  
            <div *ngIf="f['codigo']?.touched && f['codigo']?.invalid" class="alert alert-danger">
              <div *ngIf="f['codigo'].errors?.['required']">Código es requerido</div>
            </div>
            <small class="text-success" *ngIf="f['codigo'].valid">Correct</small>
  
          </div>
  
          <div class="form-group">
            <!-- {{clientes | json}} -->

            <label for="exampleInputEmail1">Cliente:</label>
            <select required class="custom-select"
                id="clienteId" name="clienteId" formControlName="clienteId">
              <option value="{{cliente.id}}"  *ngFor="let cliente of clientes">
                {{cliente.nombre}}
            </option>              
            </select>
              
              <!-- <input type="text" maxlength="5" required class="form-control" id="clienteId" name="clienteId"
                aria-describedby="name" placeholder="Ingrese código" formControlName="clienteId"> -->
    
              <div *ngIf="f['clienteId']?.touched && f['clienteId']?.invalid" class="alert alert-danger">
                <div *ngIf="f['clienteId'].errors?.['required']">Cliente es requerido</div>
              </div>
              <small class="text-success" *ngIf="f['clienteId'].valid">Correct</small>
    
            </div>  

        <button type="submit" blocked class=" btn-block mt-2 btn btn-success">Crear cliente</button>

      </form>


      <form [formGroup]="orden" (ngSubmit)="editOrden()" *ngIf="editMode">

        <div class="form-group">
          <label for="exampleInputEmail1">Fecha:</label>
          <input type="date" maxlength="25" required class="form-control" id="nombre" name="fecha"
            aria-describedby="name" placeholder="Ingrese fecha" formControlName="fecha">

          <div *ngIf="f['fecha']?.touched && f['fecha']?.invalid" class="alert alert-danger">
            <div *ngIf="f['fecha'].errors?.['required']">Fecha es requerida</div>
          </div>
          <small class="text-success" *ngIf="f['fecha'].valid">Correct</small>

        </div>

        <div class="form-group">
          <label for="exampleInputEmail1">Código:</label>
          <input type="text" maxlength="5" required class="form-control" id="codigo" name="codigo"
            aria-describedby="name" placeholder="Ingrese código" formControlName="codigo">

          <div *ngIf="f['codigo']?.touched && f['codigo']?.invalid" class="alert alert-danger">
            <div *ngIf="f['codigo'].errors?.['required']">Código es requerido</div>
          </div>
          <small class="text-success" *ngIf="f['codigo'].valid">Correct</small>

        </div>

        <div class="form-group">
          
            <label for="exampleInputEmail1">Cliente:</label>
            <select required class="custom-select"
                id="clienteId" name="clienteId" formControlName="clienteId">
              <option value="{{cliente.id}}"  *ngFor="let cliente of clientes">
                {{cliente.nombre}}
            </option>              
            </select>
  
            <div *ngIf="f['clienteId']?.touched && f['clienteId']?.invalid" class="alert alert-danger">
              <div *ngIf="f['clienteId'].errors?.['required']">Cliente es requerido</div>
            </div>
            <small class="text-success" *ngIf="f['clienteId'].valid">Correct</small>
  
          </div>        

        <button type="submit"  class=" btn-block mt-2 btn btn-info">Editar orden</button>
        <button type="submit"  (click)="setCreateMode()" class=" btn-block mt-2 btn btn-ligth">Volver</button>

      </form>

    </div>
  </div>

</div>
